<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alphabétisation - Video Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black m-0 p-0 overflow-hidden">
    <div id="root"></div>

    <script type="module">
        import React from 'https://esm.sh/react@18.2.0';
        import ReactDOM from 'https://esm.sh/react-dom@18.2.0/client';

        const videos = [
            {
                id: 1,
                src: '/assets/vue_ensemble.mp4',
                title: 'Vue d\'ensemble',
                description: 'Vue globale du tableau de bord',
                duration: '0:10'
            },
            {
                id: 2,
                src: '/assets/groupes.mp4',
                title: 'Gestion des groupes',
                description: 'Ajout et modification des groupes',
                duration: '0:17'
            },
            {
                id: 3,
                src: '/assets/assiduite.mp4',
                title: 'Suivi de présence',
                description: 'Système de pointage et historique',
                duration: '0:20'
            },
            {
                id: 4,
                src: '/assets/notes.mp4',
                title: 'Évaluations',
                description: 'Création et gestion des évaluations',
                duration: '0:19'
            },
            {
                id: 5,
                src: '/assets/login.mp4',
                title: 'Connexion',
                description: 'Connexion au système',
                duration: '0:04'
            }
        ];

        function VideoGallery() {
            const [selectedVideo, setSelectedVideo] = React.useState(videos[0]);
            const [isPlaying, setIsPlaying] = React.useState(false);
            const [currentTime, setCurrentTime] = React.useState(0);
            const [duration, setDuration] = React.useState(0);
            const [sidebarOpen, setSidebarOpen] = React.useState(false);
            const videoRef = React.useRef(null);

            const selectVideo = (video) => {
                if (videoRef.current) {
                    videoRef.current.pause();
                }
                setSelectedVideo(video);
                setIsPlaying(false);
                setCurrentTime(0);
                setSidebarOpen(false);
            };

            const togglePlay = () => {
                if (videoRef.current) {
                    if (isPlaying) {
                        videoRef.current.pause();
                    } else {
                        videoRef.current.play().catch(console.error);
                    }
                    setIsPlaying(!isPlaying);
                }
            };

            React.useEffect(() => {
                const video = videoRef.current;
                if (!video) return;

                const handleTimeUpdate = () => setCurrentTime(video.currentTime);
                const handleLoadedMetadata = () => setDuration(video.duration);
                const handleEnded = () => setIsPlaying(false);

                video.addEventListener('timeupdate', handleTimeUpdate);
                video.addEventListener('loadedmetadata', handleLoadedMetadata);
                video.addEventListener('ended', handleEnded);

                return () => {
                    video.removeEventListener('timeupdate', handleTimeUpdate);
                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);
                    video.removeEventListener('ended', handleEnded);
                };
            }, [selectedVideo]);

            const formatTime = (time) => {
                const minutes = Math.floor(time / 60);
                const seconds = Math.floor(time % 60);
                return minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
            };

            return React.createElement('div', {
                className: 'w-full h-screen bg-black flex relative'
            }, [
                sidebarOpen && React.createElement('div', {
                    key: 'overlay',
                    onClick: () => setSidebarOpen(false),
                    className: 'fixed inset-0 bg-black/50 z-40 md:hidden'
                }),

                React.createElement('div', {
                    key: 'sidebar',
                    className: 'fixed md:relative w-80 bg-[#0a0a0a] border-r border-neutral-800 flex flex-col h-full z-50 transition-transform duration-300 ' +
                        (sidebarOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0')
                }, [
                    React.createElement('div', {
                        key: 'header',
                        className: 'p-4 border-b border-neutral-800 flex items-center justify-between'
                    }, [
                        React.createElement('div', {
                            key: 'title-section'
                        }, [
                            React.createElement('h2', {
                                key: 'title',
                                className: 'text-sm font-mono text-white uppercase tracking-wider'
                            }, 'Fonctionnalités'),
                            React.createElement('p', {
                                key: 'subtitle',
                                className: 'text-xs font-mono text-neutral-500 mt-1'
                            }, videos.length + ' démonstrations')
                        ]),
                        React.createElement('button', {
                            key: 'close',
                            onClick: () => setSidebarOpen(false),
                            className: 'md:hidden text-neutral-400 hover:text-white transition-colors'
                        }, '✕')
                    ]),

                    React.createElement('div', {
                        key: 'list',
                        className: 'flex-1 overflow-y-auto'
                    }, videos.map((video, index) =>
                        React.createElement('button', {
                            key: video.id,
                            onClick: () => selectVideo(video),
                            className: 'w-full p-4 text-left border-b border-neutral-800 hover:bg-neutral-900 transition-colors ' +
                                (selectedVideo.id === video.id ? 'bg-neutral-900 border-l-2 border-l-white' : '')
                        }, [
                            React.createElement('div', {
                                key: 'number',
                                className: 'flex items-center gap-3 mb-2'
                            }, [
                                React.createElement('span', {
                                    key: 'badge',
                                    className: 'w-6 h-6 rounded-full bg-neutral-800 text-neutral-400 text-xs font-mono flex items-center justify-center'
                                }, (index + 1).toString()),
                                React.createElement('span', {
                                    key: 'duration',
                                    className: 'text-xs font-mono text-neutral-600'
                                }, video.duration)
                            ]),
                            React.createElement('h3', {
                                key: 'title',
                                className: 'text-sm font-mono text-white mb-1'
                            }, video.title),
                            React.createElement('p', {
                                key: 'desc',
                                className: 'text-xs font-mono text-neutral-500'
                            }, video.description)
                        ])
                    ))
                ]),

                React.createElement('div', {
                    key: 'player',
                    className: 'flex-1 flex flex-col w-full'
                }, [
                    React.createElement('div', {
                        key: 'player-header',
                        className: 'h-14 md:h-16 bg-[#0a0a0a] border-b border-neutral-800 px-3 md:px-6 flex items-center justify-between gap-3'
                    }, [
                        React.createElement('button', {
                            key: 'menu-btn',
                            onClick: () => setSidebarOpen(true),
                            className: 'md:hidden text-white hover:text-neutral-300 transition-colors p-2'
                        }, React.createElement('svg', {
                            width: 20,
                            height: 20,
                            viewBox: '0 0 24 24',
                            fill: 'none',
                            stroke: 'currentColor',
                            strokeWidth: 2
                        }, [
                            React.createElement('line', { key: 1, x1: 3, y1: 12, x2: 21, y2: 12 }),
                            React.createElement('line', { key: 2, x1: 3, y1: 6, x2: 21, y2: 6 }),
                            React.createElement('line', { key: 3, x1: 3, y1: 18, x2: 21, y2: 18 })
                        ])),

                        React.createElement('div', {
                            key: 'info',
                            className: 'flex-1 min-w-0'
                        }, [
                            React.createElement('h1', {
                                key: 'title',
                                className: 'text-sm md:text-lg font-mono text-white truncate'
                            }, selectedVideo.title),
                            React.createElement('p', {
                                key: 'desc',
                                className: 'text-xs font-mono text-neutral-500 truncate hidden md:block'
                            }, selectedVideo.description)
                        ])
                    ]),

                    React.createElement('div', {
                        key: 'video-container',
                        className: 'flex-1 relative bg-black overflow-hidden'
                    }, [
                        React.createElement('video', {
                            key: 'video',
                            ref: videoRef,
                            src: selectedVideo.src,
                            className: 'w-full h-full object-contain cursor-pointer',
                            onClick: togglePlay
                        }),

                        !isPlaying && React.createElement('button', {
                            key: 'play-btn',
                            onClick: togglePlay,
                            className: 'absolute inset-0 m-auto w-16 h-16 md:w-20 md:h-20 bg-black/70 border border-white/20 text-white hover:bg-black/80 hover:border-white/40 transition-all flex items-center justify-center group'
                        }, React.createElement('svg', {
                            width: 24,
                            height: 24,
                            viewBox: '0 0 24 24',
                            fill: 'white',
                            className: 'group-hover:scale-110 transition-transform'
                        }, React.createElement('path', {
                            d: 'M8 5v14l11-7z'
                        }))),

                        isPlaying && React.createElement('button', {
                            key: 'pause-overlay',
                            onClick: togglePlay,
                            className: 'absolute inset-0 bg-transparent hover:bg-black/20 transition-opacity group'
                        }, React.createElement('div', {
                            className: 'absolute inset-0 m-auto w-12 h-12 md:w-16 md:h-16 opacity-0 group-hover:opacity-100 transition-opacity'
                        }, React.createElement('svg', {
                            width: 32,
                            height: 32,
                            viewBox: '0 0 24 24',
                            fill: 'none',
                            stroke: 'white',
                            strokeWidth: 2,
                            className: 'mx-auto opacity-80'
                        }, [
                            React.createElement('rect', { key: 1, x: 6, y: 4, width: 4, height: 16 }),
                            React.createElement('rect', { key: 2, x: 14, y: 4, width: 4, height: 16 })
                        ])))
                    ]),

                    React.createElement('div', {
                        key: 'progress-bar',
                        className: 'h-1 bg-neutral-800 relative'
                    }, React.createElement('div', {
                        className: 'h-full bg-white transition-all',
                        style: { width: (duration > 0 ? (currentTime / duration) * 100 : 0) + '%' }
                    })),

                    React.createElement('div', {
                        key: 'controls',
                        className: 'h-12 bg-[#0a0a0a] border-t border-neutral-800 px-3 md:px-4 flex items-center justify-between text-xs font-mono'
                    }, [
                        React.createElement('div', {
                            key: 'left-controls',
                            className: 'flex items-center gap-2 md:gap-4 text-neutral-400'
                        }, [
                            React.createElement('button', {
                                key: 'toggle',
                                onClick: togglePlay,
                                className: 'text-white hover:text-neutral-300 transition-colors p-1'
                            }, isPlaying ? '❚❚' : '▶'),
                            React.createElement('span', { key: 'time', className: 'text-[10px] md:text-xs' },
                                formatTime(currentTime) + ' / ' + formatTime(duration)
                            )
                        ]),

                        React.createElement('div', {
                            key: 'right-controls',
                            className: 'flex items-center gap-2'
                        }, [
                            isPlaying && React.createElement('span', {
                                key: 'indicator',
                                className: 'relative flex h-2 w-2'
                            }, [
                                React.createElement('span', {
                                    key: 'ping',
                                    className: 'animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75'
                                }),
                                React.createElement('span', {
                                    key: 'dot',
                                    className: 'relative inline-flex rounded-full h-2 w-2 bg-red-600'
                                })
                            ]),
                            React.createElement('span', {
                                key: 'status',
                                className: (isPlaying ? 'text-red-500' : 'text-neutral-600') + ' text-[10px]'
                            }, isPlaying ? 'PLAYING' : 'PAUSED')
                        ])
                    ])
                ])
            ]);
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(VideoGallery));
    </script>
</body>

</html>